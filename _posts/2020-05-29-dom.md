---
layout: post
title: "DOM的学习"
subtitle: "本来打算学完es6就认真去学框架的,但又觉得还是有必要去学习一下DOM"
date: 2019-08-19 22:12:08
author: "Aurora"
tags: javascript
---

### DOM

HTML 文档的主干是标签（tag）。

根据文档对象模型（DOM），每个 HTML 标签都是一个对象。嵌套的标签是闭合标签的“子标签（children）”。标签内的文本也是一个对象。

- 标签被称为 元素节点（或者仅仅是元素）
- 元素内的文本形成 文本节点
- 注释也会作为 comment node 树节点类型,HTML 中的所有内容，甚至注释，都会成为 DOM 的一部分

#### 顶层节点

最顶层的树节点可以直接作为 document 的属性来使用：  
`<html> = document.documentElement`

最顶层的 document 节点是 document.documentElement。这是对应 `<html>` 标签的 DOM 节点。
另一个被广泛使用的 DOM 节点是 `<body>` 元素 — document.body。  
`<body> = document.body`

`<head>` 标签可以通过 document.head 访问。  
`<head> = document.head`

#### node相关

- childNodes:返回一个节点(直到脚本运行时)所有的的子节点,返回一个类数组对象可迭代对象
- parentNode:返回一个节点的父节点
- nextSibling:返回该节点下一个同级的元素
- previousSibling:返回该节点上一个同级的元素

#### Child
- firstChild:返回一个节点的第一个节点
- lastChild:返回一个节点的最后一个节点

#### Element
- children:返回该节点的所有子元素
- firstElementChild，lastElementChild:第一个和最后一个子元素
- previousElementSibling，nextElementSibling:兄弟元素。
- parentElement:父元素

#### extra
##### table
- table.rows — \<tr> 元素的集合。
- table.caption/tHead/tFoot — 引用元素 \<caption>，\<thead>，\<tfoot>。
- table.tBodies — \<tbody> 元素的集合（根据标准还有很多元素，但是这里至少会有一个 — 即使没有被写在 HTML 源文件中，浏览器也会将其放入 DOM 中）。
- tbody.rows — 表格内部 \<tr> 元素的集合。
- tr.cells — 在给定 \<tr> 中的 \<td> 和 \<th> 单元格的集合。
- tr.sectionRowIndex — 给定的 \<tr> 在封闭的 \<thead>/\<tbody>/\<tfoot> 中的位置（索引）。
- tr.rowIndex — 在整个表格中 \<tr> 的编号（包括表格的所有行）。
- td/th.cellIndex — 在封闭的 <tr> 中单元格的编号。

#### 查找元素
- document.getElementById:返回给定ID的实时动态的元素
- elem.querySelectorAll:根基选择器返回静态的元素集合
- elem.querySelector:根基选择器返回静态的元素
- elem.matches(css) 用于检查 elem 与给定的 CSS 选择器是否匹配。(返回true/false)
- elem.closest(css) 用于查找与给定 CSS 选择器相匹配的最近的祖先。elem 本身也会被检查。(返回找到元素)
- getElementsByName,getElementsByTagName,getElementsByClassName:大多已经成为了历史，因为 querySelector 功能更强大，写起来更短
> 只有 document.getElementById，没有 anyElem.getElementById

#### DOM节点class
每个 DOM 节点都属于相应的内建类。

层次结构（hierarchy）的根节点是 EventTarget，Node 继承自EventTarget，其他 DOM 节点继承自 Node。

![示意图]({{ site.url }}/img/dom/dom-class-hierarchy.svg)